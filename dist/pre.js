import{a as n,b as u,c as l,d as f}from"./chunk-HH4DAJU3.js";var t=n(u(),1),o=n(l(),1),c=n(f(),1);import r from"node:process";import p from"node:util";async function k(){let e=t.getInput("slack-bot-token")||r.env.SLACK_BOT_TOKEN,m=t.getInput("slack-channel-id")||r.env.SLACK_CHANNEL_ID,g=t.getInput("slack-ts"),s=t.getInput("github-token",{required:!0}),d=t.getInput("status",{required:!0}),i=(0,o.getOctokit)(s),I=new c.WebClient(e);t.info(JSON.stringify({context:o.context,env:r.env},null,2));let a=await i.rest.actions.getWorkflowRun({...o.context.repo,run_id:o.context.runId});t.info(JSON.stringify(a.data))}k().catch(e=>{t.info(p.format(e)),e instanceof Error?t.setFailed(e.message):t.setFailed("Unhandled error")});export{k as run};
